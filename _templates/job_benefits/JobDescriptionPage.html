{# ------------------------------------------------------------ #}
{# myproject/_templates/job_benefits/JobDescriptionPage.html              #}
{# ------------------------------------------------------------ #}
{% extends "global/Page.html" %}
{% load otree %}

{% block content %}

    <style>
        /* Basic Styling for the Page */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        /* Container for the Content */
        .otree-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 800px; /* Slightly wider for job tiles */
            margin: 30px auto;
            text-align: center;
        }

        h2 {
            color: #0056b3;
            margin-bottom: 20px;
            font-size: 2em;
        }

        /* Job Tile Specific Styling */
        .job-tile { /* Replaced inline style with a class for better control */
            background-color: #fdfdfd;
            border: 1px solid #ddd;
            margin-bottom: 15px;
            padding: 15px 20px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            text-align: left; /* Align text within each tile to the left */
            transition: all 0.2s ease-in-out; /* Smooth transition for hover/selection */
            cursor: pointer;
            display: flex; /* Use flexbox for alignment of radio and content */
            align-items: flex-start; /* Align items to the top (radio and text) */
        }

        .job-tile:hover {
            border-color: #007bff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px); /* Slight lift on hover */
        }

        /* Style for when a job tile's radio button is checked */
        .job-tile input[type="radio"]:checked + .job-tile-content h3 {
            /* Styles for the h3 when its associated radio is checked */
            font-weight: bold;
            color: #0056b3;
        }
        
        .job-tile input[type="radio"]:checked + .job-tile-content .salary-text {
            color: #0056b3; /* Apply to salary text */
        }

        .job-tile input[type="radio"] {
            transform: scale(1.4); /* Make radio button larger */
            margin-right: 15px;
            margin-top: 3px; /* Align radio button with text better */
            flex-shrink: 0; /* Prevent radio button from shrinking */
        }

        .job-tile h3 {
            font-size: 1.2em; /* Adjusted for smaller size than global h2 */
            margin-bottom: 5px;
            color: #333; /* Default color for strong */
        }

        .job-tile p { /* Style for wage/benefits text within tiles if you put them in <p> tags later */
            margin: 0 0 5px 0;
            font-size: 1em;
        }

        .job-tile .job-tile-content {
            flex-grow: 1; /* Allow content to take remaining space */
        }

        .salary-text {
            color: #28a745; /* Specific color for salary */
            font-weight: bold;
        }
        
        /* Button Styling */
        .button-group { /* To hold both buttons */
            display: flex;
            justify-content: center; /* Center the buttons */
            gap: 20px; /* Space between buttons */
            margin-top: 30px; /* More space from job tiles */
        }

        button { /* General button style */
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button[type="submit"] {
            background-color: #007bff;
            color: white;
        }

        button[type="submit"]:hover {
            background-color: #0056b3;
        }

        .back-button {
            background-color: #6c757d; /* Grey */
            color: white;
        }

        .back-button:hover {
            background-color: #5a6268; /* Darker grey */
        }
    </style>

    <div class="otree-content">
        <h2>Job Details: {{ job.title }}</h2>
        <p>
            Please review the detailed description for the **{{ job.title }}** position below.
            Click "Confirm Choice" to proceed.
        </p>

        <form method="post">
            {# The job information is now displayed directly, not in a loop. #}
            <div class="job-tile" style="cursor: default;"> {# A single, non-interactive tile #}
                <div class="job-tile-content">
                    <h3>{{ job.title }}</h3>
                    <p>
                        {% if job.title == 'Analyst' %}
                            As an Analyst, you will be responsible for collecting, interpreting, and presenting data to help
                            the organization make informed decisions. This role requires strong analytical skills and attention to detail.
                        {% elif job.title == 'Developer' %}
                            As a Developer, you will design, build, and maintain software applications and systems. You will work on
                            coding, testing, and debugging to create efficient and scalable solutions.
                        {% elif job.title == 'Consultant' %}
                            As a Consultant, you will provide expert advice and strategic solutions to clients across various industries.
                            This involves identifying problems, developing recommendations, and assisting with implementation.
                        {% elif job.title == 'Manager' %}
                            As a Manager, you will lead a team, oversee projects, and make key strategic decisions to achieve organizational goals.
                            This role demands strong leadership, communication, and organizational skills.
                        {% else %}
                            A dynamic role involving diverse responsibilities and challenges in a collaborative environment.
                        {% endif %}
                    </p>
                    <div class="mb-4">
                        <p>Salary: <span class="salary-text">â‚¬{{ job.wage }} / month</span></p>
                    </div>
                    <div>
                        <p>Benefits:</p>
                        <ul class="list-disc list-inside">
                            {% for benefit in job.benefits %}
                                <li>
                                    <strong>{{ benefit }}</strong>:
                                    {% if benefit == 'Gym Membership' %}
                                        Access to a premium gym facility with classes and personal training options.
                                    {% elif benefit == 'Flexible hours' %}
                                        The ability to adjust your work schedule to better fit your personal needs and commitments.
                                    {% elif benefit == 'Work Bike' %}
                                        A company-provided bicycle for commuting and personal use, including maintenance and insurance.
                                    {% elif benefit == 'Extra vacation days' %}
                                        Additional paid leave beyond the standard allowance to enjoy more personal time.
                                    {% elif benefit == 'Public transport ticket' %}
                                        A subsidized or fully covered monthly pass for public transportation.
                                    {% elif benefit == 'Training courses' %}
                                        Opportunities to attend professional development courses and workshops to enhance your skills.
                                    {% elif benefit == 'Childcare support' %}
                                        Financial assistance or access to childcare facilities to support working parents.
                                    {% elif benefit == 'Health program' %}
                                        Comprehensive wellness programs, including health screenings, fitness challenges, and mental health resources.
                                    {% else %}
                                        Further details will be provided upon offer acceptance.
                                    {% endif %}
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                        </div>
                    </label>
                </div>
            <div class="button-group">
                {# See section 2 below for the safe back button implementation. #}
                <button type="submit" name="confirm_or_go_back" value="back" class="back-button" formnovalidate>Back to Selection</button>
                <button type="submit" name="confirm_or_go_back" value="confirm">Confirm Choice</button>

            </div>
        </form>
    </div>
{% endblock %}