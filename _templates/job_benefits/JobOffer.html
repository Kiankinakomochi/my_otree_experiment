{% load otree %}

{% block content %}

<div class="otree-content">
    <h2>Job Offer - Round {{ player.round_number }}</h2>
    <p class="instructions">
        You are being considered for the position of <strong>{{ job_title }}</strong> 
        with your preferred base salary of <strong>â‚¬{{ base_salary }}</strong> per month.
        <br>
        In this round, you will be presented with two independent offers. Please evaluate each one and make your decision.
    </p>

    <form method="post">

        {# ================================================================= #}
        {# ====== TREATMENT 1: CASH BONUS (TWO OFFERS) ===================== #}
        {# ================================================================= #}
        {% if treatment == 'Cash Bonus' %}
            <p>For each offer below, you can accept a cash bonus (valued at your previously stated willingness-to-pay) or reject the offer.</p>

            <div class="choice-block">
                <h3>Offer 1: Gym-Equivalent Cash Bonus</h3>
                <p>In addition to your salary, you are offered a cash bonus of <strong>{{ wtp_gym }}</strong>.</p>
                {% formfield player.accept_cash_gym %}
            </div>

            <div class="choice-block">
                <h3>Offer 2: Bike-Equivalent Cash Bonus</h3>
                <p>In addition to your salary, you are offered a cash bonus of <strong>{{ wtp_bike }}</strong>.</p>
                {% formfield player.accept_cash_bike %}
            </div>

        {# ================================================================= #}
        {# ====== TREATMENT 2: NON-MONETARY PERK (TWO OFFERS) ============== #}
        {# ================================================================= #}
        {% elif treatment == 'Non-Monetary Perk' %}
            <p>For each offer below, you can accept the non-monetary benefit or reject the offer.</p>

            <div class="choice-block">
                <h3>Offer 1: Gym Membership</h3>
                <p>In addition to your salary, you are offered a <strong>Premium Gym Membership</strong>.</p>
                {% formfield player.accept_perk_gym %}
            </div>

            <div class="choice-block">
                <h3>Offer 2: Work Bike</h3>
                <p>In addition to your salary, you are offered a <strong>Work Bike</strong> (including maintenance and insurance).</p>
                {% formfield player.accept_perk_bike %}
            </div>


        {# ================================================================= #}
        {# ====== TREATMENT 3: CHOICE (TWO OFFERS) ========================= #}
        {# ================================================================= #}
        {% elif treatment == 'Choice' %}
            <p>For each offer below, you have three options: accept a cash bonus (valued at your willingness-to-pay), accept the non-monetary benefit itself, or reject the offer.</p>

            <div class="choice-block">
                <h3>Offer 1: Gym Membership or Cash</h3>
                {% formfield player.gym_choice  label='Your choice for the Gym Membership offer:' %}
            </div>

            <div class="choice-block">
                <h3>Offer 2: Work Bike or Cash</h3>
                {% formfield player.bike_choice  label='Your choice for the Work Bike offer:' %}
            </div>
            {% endif %}
        <hr>
        <button type="submit" class="otree-btn-next btn btn-primary">Submit Decisions</button>
    </form>
</div>

<style>
    .choice-block {
        border: 1px solid #ccc;
        padding: 20px;
        margin-top: 20px;
        border-radius: 5px;
        background-color: #f9f9f9;
    }
    .instructions {
        text-align: center;
        margin-bottom: 25px;
        font-size: 1.1em;
    }
</style>


{% endblock %}