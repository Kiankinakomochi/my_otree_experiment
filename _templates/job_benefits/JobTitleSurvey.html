{% extends "global/Page.html" %}
{% load otree %}

{% block title %}
    Job & Salary Preferences
{% endblock %}

{% block content %}

<style>
    /* Using a similar style to the previous pages for consistency */
    .otree-content { max-width: 900px; margin: 30px auto; }
    h2 { color: #0056b3; margin-bottom: 20px; font-size: 2em; text-align: center; }
    p.instructions { text-align: center; margin-bottom: 25px; }
    .next-btn-container { text-align: center; margin-top: 30px;}

    /* Styling for the job title selection */
    .job-choice-container {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 15px;
        background-color: #fdfdfd;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        cursor: pointer;
        transition: all 0.2s ease-in-out;
    }
    .job-choice-container:hover {
        border-color: #007bff;
        transform: translateY(-2px);
    }
    .job-choice-container input[type="radio"] {
        margin-right: 15px;
        transform: scale(1.2);
    }
    .job-choice-container label {
        font-size: 1.3em;
        font-weight: bold;
        color: #0056b3;
    }
    .job-choice-container .description {
        margin-top: 10px;
        padding-left: 35px; /* Align with the label text */
        color: #555;
    }
    
    /* Salary input styling */
    .salary-container {
        margin-top: 40px;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        border: 1px solid #eee;
    }
    .salary-container .form-group {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
    }
    .salary-container label {
        font-size: 1.2em;
        font-weight: bold;
    }

</style>

<div class="otree-content">
    <h2>Select Your Preferred Job Title</h2>
    <p class="instructions">
        Please review the job roles below and select the one you would prefer. Then, indicate your preferred minimum salary for that role.
    </p>

    <form method="post">
        
        {{ form.preferred_job_title.errors }}
        {% for choice in form.preferred_job_title %}
        <div class="job-choice-container" onclick="document.getElementById('{{ choice.id_for_label }}').click()">
            {{ choice.tag }}
            <label for="{{ choice.id_for_label }}">{{ choice.choice_label }}</label>
            {% for job in job_tiles %}
                {% if job.title == choice.choice_label %}
                    <p class="description">{{ job.description }}</p>
                {% endif %}
            {% endfor %}
        </div>
        {% endfor %}

        <div class="salary-container">
            {{ form.preferred_salary.errors }}
            {% formfield player.preferred_salary %}
        </div>
        
        <div class="next-btn-container">
            {% next_button %}
        </div>
    </form>
</div>

{% endblock %}
